services:
  x11-forwarding:
    # service name
    # enable X11 forwarding
    environment:
      # environment of the container
      - DISPLAY=${DISPLAY:-:0} # pass the host `$DISPLAY` var, defaults to `:0`
    volumes:
      # volumes mount, syntax is `<path on host>:<path on container>`
      - /tmp/.X11-unix:/tmp/.X11-unix # X11 socket

  router:
    extends:
      service: x11-forwarding
    image: router
    cap_add:
      # by default the root user in containers do not have all capacities
      - NET_ADMIN # Perform various network-related operations.
      - SYS_ADMIN # Perform a range of system administration operations.
      
  box:
    extends:
      service: router
    image: box

  client:
    extends:
      service: x11-forwarding
    image: client
    cap_add:
      - NET_ADMIN

  server:
    # Pour wireshark
    extends: x11-forwarding
    cap_add:
      # Pas sûr de ça
      - NET_ADMIN
    
